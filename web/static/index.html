<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/assets/lib/bootstrap/main/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/@loadingio/bootstrap.ext/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldcover/main/index.min.css"><link rel="stylesheet" type="text/css" href="/assets/lib/ldloader/main/index.min.css"><style type="text/css">html,body{width:100%;height:100%;padding:0;margin:0;background:#f7f8f9}.dash{width:100%;height:100%;gap:1em;display:grid;padding:1em}.panelx{display:flex;flex-direction:column;gap:.25em}.panelx .head{flex:0 0 1.25em}.panelx .body{flex:1 0 auto;background:#ccc;border-radius:.15em;box-shadow:0 0 0 rgba(0,0,0,0.1)}.panel-root>div{width:100%;height:100%}</style></head><body><div class="dash" ld-scope="" ld="dash-main"><div class="panel-root" ld-each="panel"></div></div><div class="ldcv default-size" ld="detail"><div class="base"><div class="inner"><div class="dash" ld-scope="" ld="dash-detail"><div class="panel-root" ld-each="panel"></div></div></div></div></div><script type="text/javascript" src="/assets/lib/bootstrap.native/main/bootstrap-native-v4.min.js" defer></script><script type="text/javascript" src="/assets/lib/proxise/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/debounce.js/main/debounce.min.js" defer></script><script type="text/javascript" src="/assets/lib/@loadingio/ldquery/main/ldq.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/csscope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/rescope/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/@plotdb/block/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldview/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldcover/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/ldloader/main/index.min.js" defer></script><script type="text/javascript" src="/assets/lib/papaparse/main/papaparse.min.js" defer></script><script type="module">(function(t){return t.apply({})})(function(){var s,t,e=this;s=function(t){t==null&&(t={});this.root=typeof t.root==="string"?document.querySelector(t.root):t.root;this.mgr=t.manager;this.cfg=t.cfg;this.data=t.data;this.evtHandler={};return this};s.prototype=import$(Object.create(Object.prototype),{on:function(t,n){var r=this;return(Array.isArray(t)?t:[t]).map(function(t){var e;return((e=r.evtHandler)[t]||(e[t]=[])).push(n)})},fire:function(t){var e,n,r,a,i,o,s,c=[];n=[];for(r=1,a=arguments.length;r<a;++r){n.push(arguments[r])}e=n;for(r=0,o=(i=this.evtHandler[t]||[]).length;r<o;++r){s=i[r];c.push(s.apply(this,e))}return c},init:function(){var n,i=this;n=this.cfg;return t.get({name:"panel",version:"0.0.1"}).then(function(t){var e;i.bc=t;return i.view=e=new ldview({root:i.root,handler:{dash:function(t){var e;e=t.node;return e.style.gridTemplate="repeat("+n.dim.row+") repeat("+n.dim.col+")"},panel:{list:function(){return n.panels},view:{init:function(){},handler:{"@":function(t){var e,n,r,a;e=t.node,n=t.ctx,r=t.local;a=!r.bi?i.bc.create().then(function(t){r.bi=t;return t.attach({root:e,data:{meta:n,data:i.data}}).then(function(){return t["interface"]()}).then(function(t){r.itf=t;t.on("select",function(t){return i.fire("select",t)});return t})}):Promise.resolve();return a.then(function(){var t;return t=e.style,t.gridArea=n.y+" / "+n.x+" / span "+n.h+" / span "+n.w,t})}}}}}})})},render:function(){return this.view.render()}});t=window.manager=new block.manager({registry:function(t){var e,n,r,a,i;e=t.name,n=t.version,r=t.path,a=t.type;if(e==="line"||e==="pie"||e==="bar"||e==="bubble"||e==="base"||e==="number"||e==="bar"||e==="taiwancounty"||e==="percent-list"){return"/assets/chart/"+e+"/"+n+"/"+(r||"index.html")}if(/^d3/.exec(e)){return"/assets/lib/"+e+"/main/"+r}if(/^local/.exec(e)){return"/block/"+e+"/"+(r||"index.html")}i=a==="block"?"/block":"/assets/lib";return i+"/"+e+"/"+n+"/"+(r||(a==="block"?"index.html":"index.min.js"))}});return t.init().then(function(){return t.get({name:"panel",version:"0.0.1"})}).then(function(t){return e.bc=t}).then(function(){return ld$.fetch("/assets/data/sales.csv",{method:"GET"},{type:"text"})}).then(function(t){var e,r,n,a,i,o;e=Papa.parse(t).data;r=e.splice(0,1)[0];e=e.map(function(n){return Object.fromEntries(r.map(function(t,e){return[t,n[e]]}))});console.log(e);n={};n.main={dim:{col:8,row:4},panels:[{x:1,y:1,w:1,h:1,name:"total-gross"},{x:2,y:1,w:1,h:1,name:"sales-count"},{x:3,y:1,w:1,h:1,name:"store-count"},{x:4,y:1,w:5,h:1,name:"publish-trend"},{x:1,y:2,w:2,h:1,name:"ship-hist"},{x:1,y:3,w:2,h:1,name:"return-hist"},{x:1,y:4,w:2,h:1,name:"order-hist"},{x:3,y:2,w:3,h:3,name:"book-prop"},{x:6,y:2,w:3,h:3,name:"store-dist"}]};n.detail={dim:{col:1,row:2},panels:[{x:1,y:1,w:1,h:1,name:"book-trend"},{x:1,y:2,w:1,h:1,name:"book-trend"}]};a=new ldview({root:document.body});i=new ldcover({root:a.get("detail")});o={};o.main=new s({root:a.get("dash-main"),cfg:n.main,data:e});o.detail=new s({root:a.get("dash-detail"),cfg:n.detail,data:e});o.main.init();return o.main.on("select",function(){i.toggle();return o.detail.init()})})});function import$(t,e){var n={}.hasOwnProperty;for(var r in e)if(n.call(e,r))t[r]=e[r];return t}</script></body></html>