<div><script>module.exports={meta:function(){return{title:"各季出版社出貨量趨勢",chart:{name:"line"},cfg:{mode:"streamgraph",showDot:false,legend:{selectable:false,enabled:false},line:"curve",yaxis:{enabled:false}}}},bind:function(n){var r,u,e,t,a,o,f,i,c,l;r=Array.from(new Set(n.map(function(n){return n["年"]+"/Q"+n["季"]})));u={};n.map(function(n){return n["時段"]=n["年"]+"/Q"+n["季"],n});n.map(function(n){var r,e,t;return((r=u[t=n["時段"]]||(u[t]={}))[e=n["出版社"]]||(r[e]=[])).push(n)});e=[];t=[];for(a in u){o=u[a];for(f in o){i=o[f];e.push(f);o[f]=i.reduce(s,0)}}for(a in u){o=u[a];l=[];for(f in o){i=o[f];l.push([f,i])}c=l;c.sort(m);c=c.map(p);t=t.concat(c.splice(0,1))}t=Array.from(new Set(t));e=Array.from(new Set(e));n=function(){var n,r=[];for(a in n=u){o=n[a];r.push({k:a,v:o})}return r}().map(function(n){var r,e;r=n.k,e=n.v;return e["時段"]=r,e});return{raw:n,binding:{order:{key:"時段"},value:t.map(function(n){return{key:n}})}};function s(n,r){return n+ +r["季出貨量"]}function m(n,r){return r[1]-n[1]}function p(n){return n[0]}}};</script></div>