<div><script>module.exports={meta:function(){return{title:"書目出貨量趨勢",chart:{name:"line"},cfg:{mode:"line",legend:{selectable:false,enabled:false},line:"curve",yaxis:{enabled:false}}}},bind:function(n){var r,u,e,t,a,i,o,f,c,l;r=Array.from(new Set(n.map(function(n){return n["年"]+"/Q"+n["季"]})));u={};n.map(function(n){return n["時段"]=n["年"]+"/Q"+n["季"],n});n.map(function(n){var r,e,t;return((r=u[t=n["時段"]]||(u[t]={}))[e=n["出版社"]]||(r[e]=[])).push(n)});e=[];t=[];for(a in u){i=u[a];for(o in i){f=i[o];e.push(o);i[o]=f.reduce(m,0)}}for(a in u){i=u[a];l=[];for(o in i){f=i[o];l.push([o,f])}c=l;c.sort(p);c=c.map(s);t=t.concat(c.splice(0,1))}t=Array.from(new Set(t));e=Array.from(new Set(e));n=function(){var n,r=[];for(a in n=u){i=n[a];r.push({k:a,v:i})}return r}().map(function(n){var r,e;r=n.k,e=n.v;return e["時段"]=r,e});return{raw:n,binding:{order:{key:"時段"},value:t.map(function(n){return{key:n}})}};function m(n,r){return n+ +r["季出貨量"]}function p(n,r){return r[1]-n[1]}function s(n){return n[0]}}};</script></div>